{
  "version": 3,
  "sources": ["../../../../../../Users/antonio/Tailwind/interactive-card-detail-form/functions/submission-created.ts"],
  "sourceRoot": "/var/folders/bm/bsry_n894459zyz4f6_x7ml40000gp/T/tmp-12372-csSAEAgkvDKs",
  "sourcesContent": ["import { Handler, HandlerEvent, HandlerContext } from \"@netlify/functions\";\n\ntype CardInfo = {\n  holder: string,\n  number: string,\n  month: string,\n  year: string;\n  cvc: string;\n}\n\nconst cards = [\n  {\n    id: 1,\n    \"holder\": \"Jane Appleseed\",\n    \"number\": \"1234567891230000\",\n    \"month\": \"04\",\n    \"year\": \"23\",\n    \"cvc\": \"123\"\n  }\n]\n\nconst handler: Handler = async (event: HandlerEvent, _context: HandlerContext) => {\n  if (!event.body) {\n    return {\n      statusCode: 406,\n      body: JSON.stringify({ message: \"Card payment information is incorrect\" })\n    };\n  }\n  if(event.httpMethod === \"POST\") {\n    const  { holder, number, month, year, cvc  } = JSON.parse(event.body) as CardInfo;\n    const targetCard = cards.find((card) => \n      card.holder === holder &&\n      card.number === number &&\n      card.month === month && \n      card.year === year && \n      card.cvc === cvc\n    )\n    if(targetCard) {\n      return {\n        statusCode: 202,\n        body: JSON.stringify(targetCard)\n      }\n    }\n  }\n  return {\n    statusCode: 406,\n    body: JSON.stringify({ message: \"Card payment information is not accepted\" })\n  }\n} \n\nexport { handler };"],
  "mappings": ";;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAUA,IAAM,QAAQ;AAAA,EACZ;AAAA,IACE,IAAI;AAAA,IACJ,UAAU;AAAA,IACV,UAAU;AAAA,IACV,SAAS;AAAA,IACT,QAAQ;AAAA,IACR,OAAO;AAAA,EACT;AACF;AAEA,IAAM,UAAmB,OAAO,OAAqB,aAA6B;AAChF,MAAI,CAAC,MAAM,MAAM;AACf,WAAO;AAAA,MACL,YAAY;AAAA,MACZ,MAAM,KAAK,UAAU,EAAE,SAAS,wCAAwC,CAAC;AAAA,IAC3E;AAAA,EACF;AACA,MAAG,MAAM,eAAe,QAAQ;AAC9B,UAAO,EAAE,QAAQ,QAAQ,OAAO,MAAM,QAAS,KAAK,MAAM,MAAM,IAAI;AACpE,UAAM,aAAa,MAAM,KAAK,CAAC,SAC7B,KAAK,WAAW,UAChB,KAAK,WAAW,UAChB,KAAK,UAAU,SACf,KAAK,SAAS,QACd,KAAK,QAAQ,GACf;AACA,QAAG,YAAY;AACb,aAAO;AAAA,QACL,YAAY;AAAA,QACZ,MAAM,KAAK,UAAU,UAAU;AAAA,MACjC;AAAA,IACF;AAAA,EACF;AACA,SAAO;AAAA,IACL,YAAY;AAAA,IACZ,MAAM,KAAK,UAAU,EAAE,SAAS,2CAA2C,CAAC;AAAA,EAC9E;AACF;",
  "names": []
}
